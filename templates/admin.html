<!DOCTYPE html>
<html>
  <head>
    <title>Admin Dashboard</title>
    <link rel="stylesheet" type="text/css" href="banner.css" />
    <style>
      /* Define the grid layout */
      .grid-container {
        display: grid;
        grid-template-columns: repeat(3, 1fr); /* Three equal-width columns */
        grid-gap: 20px; /* Gap between grid items */
      }

      /* Style the grid items */
      .grid-item {
        background-color: #f2f2f2;
        padding: 20px;
        text-align: center;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/toorshia/justgage@1.3.0/raphael-2.1.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/toorshia/justgage@1.3.0/justgage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/progressbar.js"></script>
    <script>
      $(document).ready(function () {
        // Create CPU meter
        var g = new JustGage({
          id: "cpu_meter_1",
          min: 0,
          max: 100,
          title: "CPU Usage",
        });

        // Create memory bar
        var bar = new ProgressBar.Line("#memory_bar", {
          // Other options...
          step: (state, bar) => {
            $("#memory_bar_text").text(
              Math.round(bar.value() * 100) +
                " % (" +
                Math.round(bar.value() * 100) +
                " MB)"
            );
          },
        });

        // Initialize CPU temperature bar
        var cpuBar = new ProgressBar.Line("#cpu_temperature_bar", {
          // Other options...
          step: (state, bar) => {
            $("#cpu_temperature_bar_text").text(
              Math.round(bar.value() * 100) +
                " % (" +
                Math.round(bar.value() * 100) +
                " °C)"
            );
          },
        });

        // Initialize RAM temperature bar
        var ramTempBar = new ProgressBar.Line("#ram_temperature_bar", {
          // Other options...
          step: (state, bar) => {
            $("#ram_temperature_bar_text").text(
              Math.round(bar.value() * 100) +
                " % (" +
                Math.round(bar.value() * 100) +
                " °C)"
            );
          },
        });

        setInterval(function () {
          $.get("/system_info", function (data) {
            console.log(data); // Füge dies hinzu, um die zurückgegebenen Daten zu prüfen
            // Update CPU meter
            g.refresh(data.cpu_usage);

            // Update memory bar
            bar.animate(data.ram_usage / 100); // Number from 0.0 to 1.0

            // Update CPU temperature bar
            cpuTempBar.animate(data.cpu_temperature / 120); // Number from 0.0 to 1.0, assuming scale is 0 to 120

            // Update RAM temperature bar
            ramTempBar.animate(data.ram_temperature / 120); // Number from 0.0 to 1.0, assuming scale is 0 to 120
          });
        }, 1000);
      });
    </script>
  </head>
  <body>
    <header>
      <h1>Welcome to the Admin Dashboard</h1>
    </header>
    <nav>
      <ul>
        <li><a href="#">Dashboard</a></li>
        <li><a href="#">Users</a></li>
        <li><a href="#">Products</a></li>
        <li><a href="#">Orders</a></li>
        <li><a href="#">Settings</a></li>
      </ul>
    </nav>
    <main class="grid-container">
      <section class="grid-item">
        <!-- CPU Meter -->
        <h2>CPU Meter</h2>
        <div id="cpu_meter_1" class="gauge"></div>
      </section>

      <section class="grid-item">
        <!-- Memory Meter -->
        <h2>Memory Meter</h2>
        <div id="memory_bar"></div>
        <div id="memory_bar_text" style="color: #999"></div>
      </section>

      <section class="grid-item">
        <!-- System Temperatures -->
        <h2>System Temperatures</h2>
        <div>
          <h3>CPU Temperature</h3>
          <div id="cpu_temperature_bar"></div>
          <div id="cpu_temperature_bar_text" style="color: #999"></div>
          <!-- The CPU temperature text will be inserted by ProgressBar.js -->
        </div>
        <div>
          <h3>RAM Temperature</h3>
          <div id="ram_temperature_bar"></div>
          <div id="ram_temperature_bar_text" style="color: #999;"></div>
          <!-- The RAM temperature text will be inserted by ProgressBar.js -->
        </div>
      </section>

      <section class="grid-item">
        <h2>User Management</h2>
        <!-- Add your user management content here -->
      </section>

      <section class="grid-item">
        <h2>Product Management</h2>
        <!-- Add your product management content here -->
      </section>

      <section class="grid-item">
        <h2>Order Management</h2>
        <!-- Add your order management content here -->
      </section>

      <section class="grid-item">
        <h2>Settings</h2>
        <!-- Add your settings content here -->
      </section>

      <section class="grid-item">
        <h2>CPU Meter 3</h2>
        <!-- Add your CPU meter 3 content here -->
      </section>

      <section class="grid-item">
        <h2>CPU Meter 4</h2>
        <!-- Add your CPU meter 4 content here -->
      </section>
    </main>

    <footer>
      <p>&copy; 2023 Hendrik Siemens. All rights reserved.</p>
    </footer>
  </body>
</html>
